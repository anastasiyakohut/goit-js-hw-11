{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api';\nconst API_KEY = '43997901-59e2ef8a5969ad3162d77619c';\n\nexport const searchPhotos = (query) => {\n    const searchParams = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\n    return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n        if (!response.ok) {\n            throw new Error(response.statusText);\n        }\n        return response.json();\n    });\n}","export const createGalleryMarkup = (images) => {\n    return images.map(\n        ({\n            webformatURL, largeImageURL, tags, likes, views, comments, downloads\n        }) => `\n            <li class=\"item-list\">\n                <a href=\"${largeImageURL}\" class=\"item-list-link\">\n                    <img class=\"item-list-img\" src=\"${webformatURL}\" alt=\"${tags}\">\n                </a>\n                <div class='markup-info'>\n                    <div class=\"item-list-info-text\">\n                        <h3 class=\"item-list-title\">Likes</h3>\n                        <p class=\"item-list-text\">${likes}</p>\n                    </div>\n                    <div class=\"item-list-info-text\">\n                        <h3 class=\"item-list-title\">Views</h3>\n                        <p class=\"item-list-text\">${views}</p>\n                    </div>\n                    <div class=\"item-list-info-text\">\n                        <h3 class=\"item-list-title\">Comments</h3>\n                        <p class=\"item-list-text\">${comments}</p>\n                    </div>\n                    <div class=\"item-list-info-text\">\n                        <h3 class=\"item-list-title\">Downloads</h3>\n                        <p class=\"item-list-text\">${downloads}</p>\n                    </div>\n                </div>\n            </li>`\n    )\n        .join('');\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { searchPhotos } from \"./js/pixabay-api.js\";\nimport { createGalleryMarkup } from \"./js/render-functions.js\";\n\nconst galleryEl = document.querySelector('.gallery');\nconst searchField = document.querySelector('.search-field');\nconst searchForm = document.querySelector('.form');\nconst loaderEl = document.querySelector('.loader');\n\nfunction onSearchFormSubmit(event) {\n    event.preventDefault();\n\n    const searchQuery = searchField.value.trim();\n\n    if (searchQuery === '') {\n        galleryEl.innerHTML = '';\n        event.target.reset();\n        iziToast.error({\n            title: 'Error',\n            message: 'Illegal operation',\n            position: 'topRight',\n            color: '#EF4040',\n        });\n        return;\n    }\n    galleryEl.innerHTML = '';\n    loaderEl.classList.remove('is-hidden');\n\n    searchPhotos(searchQuery)\n        .then(imagesData => {\n            loaderEl.classList.add('is-hidden');\n\n            if (imagesData.totalHits === 0) {\n                iziToast.show({\n                    message:\n                        'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                    color: '#EF4040',\n                });\n                return;\n            }\n            galleryEl.innerHTML = createGalleryMarkup(imagesData.hits);\n\n            const lightbox = new SimpleLightbox('.gallery a');\n            lightbox.refresh();\n        })\n        .catch(error => console.log(error))\n        .finally(() => {\n            event.target.reset();\n            loaderEl.classList.add('is-hidden');\n        });\n}\n\nsearchForm.addEventListener('submit', onSearchFormSubmit);\n"],"names":["BASE_URL","API_KEY","searchPhotos","query","searchParams","response","createGalleryMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","galleryEl","searchField","searchForm","loaderEl","onSearchFormSubmit","event","searchQuery","iziToast","imagesData","SimpleLightbox","error"],"mappings":"6vBAAA,MAAMA,EAAW,0BACXC,EAAU,qCAEHC,EAAgBC,GAAU,CACnC,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAY,EAAE,EAAE,KAAKC,GAAY,CACzD,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAOA,EAAS,MACxB,CAAK,CACL,EClBaC,EAAuBC,GACzBA,EAAO,IACV,CAAC,CACG,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CACvE,IAAc;AAAA;AAAA,2BAEaL,CAAa;AAAA,sDACcD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,oDAK5BC,CAAK;AAAA;AAAA;AAAA;AAAA,oDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,oDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,oDAIRC,CAAS;AAAA;AAAA;AAAA,kBAIxD,EACI,KAAK,EAAE,ECrBVC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAW,SAAS,cAAc,SAAS,EAEjD,SAASC,EAAmBC,EAAO,CAC/BA,EAAM,eAAc,EAEpB,MAAMC,EAAcL,EAAY,MAAM,KAAI,EAE1C,GAAIK,IAAgB,GAAI,CACpBN,EAAU,UAAY,GACtBK,EAAM,OAAO,QACbE,EAAS,MAAM,CACX,MAAO,QACP,QAAS,oBACT,SAAU,WACV,MAAO,SACnB,CAAS,EACD,MACH,CACDP,EAAU,UAAY,GACtBG,EAAS,UAAU,OAAO,WAAW,EAErChB,EAAamB,CAAW,EACnB,KAAKE,GAAc,CAGhB,GAFAL,EAAS,UAAU,IAAI,WAAW,EAE9BK,EAAW,YAAc,EAAG,CAC5BD,EAAS,KAAK,CACV,QACI,2EACJ,SAAU,WACV,MAAO,SAC3B,CAAiB,EACD,MACH,CACDP,EAAU,UAAYT,EAAoBiB,EAAW,IAAI,EAExC,IAAIC,EAAe,YAAY,EACvC,QAAO,CAC5B,CAAS,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACXL,EAAM,OAAO,QACbF,EAAS,UAAU,IAAI,WAAW,CAC9C,CAAS,CACT,CAEAD,EAAW,iBAAiB,SAAUE,CAAkB"}